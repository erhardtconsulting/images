{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "github>erhardtconsulting/renovate-rules:default"
  ],
  "packageRules": [
    {
      "matchDatasources": ["docker"],
      "matchPackageNames": [
        "docker.io/library/alpine",
        "docker.io/library/ubuntu"
      ],
      "matchUpdateTypes": ["digest"],
      "automerge": true
    },
    {
      "matchDatasources": ["docker"],
      "matchPackageNames": [
        "ghcr.io/erhardtconsulting/*",
        "docker.io/renovate/renovate"
      ],
      "matchUpdateTypes": ["minor", "patch", "digest"],
      "automerge": true
    },
    {
      "matchDatasources": ["github-releases"],
      "matchPackageNames": ["nextcloud/server"],
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true
    },
    // base-php/8.3.Dockerfile - Use php 8.3.x
    {
      "matchDatasources": ["docker"],
      "matchPackageNames": ["docker.io/library/php"],
      "matchPaths": ["base-php/8.3.Dockerfile"],
      "allowedVersions": "8.3.x",
      "matchUpdateTypes": ["minor", "patch", "digest"],
      "automerge": true
    },
    // base-php/8.4.Dockerfile - Use php 8.4.x
    {
      "matchDatasources": ["docker"],
      "matchPackageNames": ["docker.io/library/php"],
      "matchPaths": ["base-php/8.4.Dockerfile"],
      "allowedVersions": "8.4.x",
      "matchUpdateTypes": ["minor", "patch", "digest"],
      "automerge": true
    }
  ]
}
